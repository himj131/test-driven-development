# 6. 테스트 코드의 구성
- 어떤 상황이 실행 결과에 영향을 줄 수 있는지 생각해보고 이를 코드에 반영해야한다.

#### 테스트 코드의 구성 요소 : 상황, 실행, 결과 확인
`어떤 상황이 주어지고, 그 상황에서 기능을 실행하고, 실행한 결과를 확인`
- 상황이 없는 경우도 존재한다. 이럴 경우 기능을 실행하고 결과를 확인하는 코드만 포함하면 된다.
- 실행결과를 확인하는 가장 쉬운 방법은 리턴 값을 사용하는 것이다.
    - 실행 결과가 항상 리턴 값으로 존재하는 것은 아니다. 익셉션을 발생하는 것이 정상인 경우도 존재


#### 외부 상태가 테스트 결과에 영향을 주지 않게 하기
- 테스트는 언제 실행해도 항상 정상적으로 동작하는 것이 중요하다.
- 외부 상태에 따라 테스트의 성공 여부가 바뀌지 않으려면 테스트 실행전에 외부를 원하는 상태로 만들거나,  
    테스트 실행 후에 외부 상태를 원래대로 되돌려 놓아야 한다.
    
#### 외부 상태와 테스트의 어려움
- 외부 상황은 테스트 코드에서 마음대로 제어할 수 없는 경우가 있다.(부 API 연동이나,외부 DB 사용등)
- 테스트 대상의 상황과 결과에 외부 요인이 관여할 경우 <u>대역</u>을 사용하면 테스트 작성이 쉬워진다.
- `대역`은 테스트 대상이 의존하는 대상의 실제 구현을 대신하는 구현인데,  
    이 대역을 통해 외부 상황이나 결과를 대체 할 수 있다.